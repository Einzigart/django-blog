{% extends "blog/base.html" %}
{% block title %}{% if form.instance.pk %}Update Post{% else %}New Post{% endif %} - Django Blog{% endblock %}
{% block content %}
    <div class="content-section">
        <form method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">
                    {% if form.instance.pk %}
                        Update Post
                    {% else %}
                        New Post
                    {% endif %}
                </legend>
                <div class="form-group mb-3">
                    <label for="{{ form.title.id_for_label }}">Title</label>
                    {{ form.title.errors }}
                    <input type="text" name="{{ form.title.name }}" id="{{ form.title.id_for_label }}" class="form-control {% if form.title.errors %}is-invalid{% endif %}" value="{{ form.title.value|default:'' }}">
                </div>
                <div class="form-group mb-3">
                    <label for="{{ form.content.id_for_label }}">Content</label>
                    {{ form.content.errors }}
                    <textarea name="{{ form.content.name }}" id="{{ form.content.id_for_label }}" class="form-control {% if form.content.errors %}is-invalid{% endif %}" rows="10">{{ form.content.value|default:'' }}</textarea>
                </div>
            </fieldset>
            <div class="form-group">
                <button class="btn btn-primary" type="submit">
                    {% if form.instance.pk %}
                        Update
                    {% else %}
                        Post
                    {% endif %}
                </button>
                <a class="btn btn-secondary" href="{% url 'blog-home' %}">Cancel</a>
            </div>
        </form>
    </div>
{% endblock content %} 